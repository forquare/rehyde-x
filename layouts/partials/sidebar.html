<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      {{ if isset .Site.Params "gravatarhash" }}
        <img src="https://www.gravatar.com/avatar/{{ .Site.Params.gravatarHash }}?s=200"
             alt="gravatar" title="{{ .Site.Author.name }}">
      {{ end }}
      {{ if isset .Site.Params "logoURL" }}
        <img src="{{ .Site.Params.gravatarHash }}"
             alt="logo" title="{{ .Site.Author.name }}">
      {{ end }}
      <h1>{{ .Site.Author.name }}</h1>
      {{ with .Site.Params.tagline }}<p class="lead">{{ . | markdownify }}</p>{{ end }}
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="{{ "/" | absURL }}">{{ if isset .Site.Params "home"}}{{ .Site.Params.home }}{{ else }}Blog{{ end }}</a></li>
      {{ range .Site.Menus.main }}
      <li class="sidebar-nav-item">{{ .Pre }}<a href="{{ .URL | absURL }}">{{ .Name }}</a></li>
      {{end}}
    </ul>

    <div class="sidebar-nav-search">
      <form action="{{ "search" | absURL }}">
        <input type="text" name="s" placeholder="search..." /><button class="fa fa-search"></button>
      </form>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-icon">

      {{ $.Scratch.Set "square" "-square"}}
      {{ if not .Site.Params.social.isSquaredIcon }}
        {{ $.Scratch.Set "square" ""}}
      {{ end }}

      {{ $.Scratch.Set "iconSize" "3x"}}
      {{ if .Site.Params.social.iconSize }}
        {{ $.Scratch.Set "iconSize" $.Site.Params.social.iconSize}}
      {{ end }}

      {{ with .Site.Params.github }}<a href="{{ . }}"><i class="fa fa-github{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.bitbucket }}<a href="{{ . }}"><i class="fa fa-bitbucket{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.stackOverflow }}<a href="{{ . }}"><i class="fa fa-stack-overflow fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.stackExchange }}<a href="{{ . }}"><i class="fa fa-stack-exchange fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.linkedin }}<a href="{{ . }}"><i class="fa fa-linkedin{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.facebook }}<a href="{{ . }}"><i class="fa fa-facebook{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.twitter }}<a href="{{ . }}"><i class="fa fa-twitter{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.mastodon }}<a href="{{ . }}"><i class="fa-brands fa-mastodon fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.youtube }}<a href="{{ . }}"><i class="fa fa-youtube{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ with .Site.Params.email }}<a href="mailto:{{ . }}"><i class="fa fa-envelope{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}
      {{ if .Site.Params.rss }}<a href="{{ "/index.xml" | absURL }}" type="application/rss+xml"><i class="fa fa-rss{{ $.Scratch.Get "square" }} fa-{{ $.Scratch.Get "iconSize" }}"></i></a>{{ end }}

      </li>
    </ul>

    {{ if isset .Site.Params "flattr" }}
    <p><script id='flattr'>
      (function(id){
        var s = document.getElementById(id);
        var f = document.createElement('iframe');
        f.src = '//api.flattr.com/button/view/?uid={{ .Site.Params.flattr }}&button=compact&url={{ "/" | absURL }}&title={{ .Site.Title }}';
        f.title = 'Flattr';
        f.height = 20;
        f.width = 110;
        f.style.borderWidth = 0;
        s.parentNode.insertBefore(f, s);
      })('flattr');
    </script></p>
    {{ end }}

    {{ partial "sidebar/footer.html" . }}
  </div>
</div>
